<!DOCTYPE html>
<html lang="en">
<head>
    <title>Block Details</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://api.fonts.coollabs.io" crossorigin>
    <link href="https://api.fonts.coollabs.io/css2?family=Rubik&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='a72bf4ce55ad4320.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>
<body>

    <div class="main-content pb-6">

        {% include "_navbar.html" %}

        <div class="container mt-n2">
            <div class="header">
                <div class="header-body"><h6 class="header-pretitle">Details</h6>
                    <h2 class="header-title">Block {{block.slot}}</h2></div>
            </div>
            <div class="card">
                <div class="card-header"><h3 class="card-header-title mb-0 d-flex align-items-center">Overview</h3>
                </div>
                <div class="table-responsive mb-0">
                    <table class="table table-sm table-nowrap card-table">
                        <tbody class="list">
                        <tr>
                            <td class="w-100">Slot</td>
                            <td class="text-lg-end font-monospace"><span class="font-monospace"><a href="https://explorer.solana.com//block/{{block.slot}}?cluster={{config.cluster}}">{{block.slot}}</a></span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Blockhash</td>
                            <td class="text-lg-end font-monospace">
                                <span>{{block.block_hash}}</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Processed Transactions</td>
                            <td class="text-lg-end font-monospace"><span>{{block.processed_transactions}}</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Successful Transactions</td>
                            <td class="text-lg-end font-monospace"><span>{{block.successful_transactions}}</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Banking Stage Errors</td>
                            <td class="text-lg-end font-monospace"><span>{{block.banking_stage_errors or 'n/a'}}</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Prioritization Fees Median</td>
                            <td class="text-lg-end font-monospace"><span>{{block.supp_infos.p_median}} micro-lamports/CU</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Prioritization Fees Min</td>
                            <td class="text-lg-end font-monospace"><span>{{block.supp_infos.p_min}} micro-lamports/CU</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Prioritization Fees Max</td>
                            <td class="text-lg-end font-monospace"><span>{{block.supp_infos.p_max}} micro-lamports/CU</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Prioritization Fees p75</td>
                            <td class="text-lg-end font-monospace"><span>{{block.supp_infos.p_75}} micro-lamports/CU</span></td>
                        </tr>
                        <tr>
                            <td class="w-100">Prioritization Fees p90</td>
                            <td class="text-lg-end font-monospace"><span>{{block.supp_infos.p_90}} micro-lamports/CU</span></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="container">
                <div class="header">
                    <div class="header-body pt-0">
                        <ul class="nav nav-tabs nav-overflow header-tabs">
                            <!-- note: local anchors are not hx-boost'ed -->
                            <li class="nav-item"><a hx-boost="false" class="nav-link" href="#write-locked-accounts">Write locked accounts</a></li>
                            <li class="nav-item"><a hx-boost="false" class="nav-link" href="#read-locked-accounts">Read locked accounts</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="write-locked-accounts" class="card">
                <div class="card-header align-items-center"><h3 class="card-header-title">Heavily Write-Locked Accounts</h3></div>

                <div class="table-responsive mb-0">
                    <table class="table table-sm table-nowrap card-table">
                        <thead>
                        <tr>
                            <th class="text-muted">Account</th>
                            <th class="text-muted">CU requested</th>
                            <th class="text-muted">CU consumed</th>
                            <th class="text-muted">Min prio fees</th>
                            <th class="text-muted">Median prio fees</th>
                            <th class="text-muted">Max prio fees</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for write_account in block.heavily_writelocked_accounts_parsed %}
                            <tr>
                                <td>
                                    <a hx-boost="false" href="https://explorer.solana.com/account/{{ write_account.key }}?cluster={{config.cluster}}">
                                        <div class="d-none d-lg-flex align-items-center "><span class="font-size-tiny me-2"><span
                                                class=""></span></span><span
                                                class="font-monospace"><span class="">{{write_account.key}}</span></span>
                                        </div>
                                    </a></td>
                                <td>{{write_account.cu_requested}}</td>
                                <td>{{write_account.cu_consumed}}</td>
                                <td>{{write_account.min_pf}}</td>
                                <td>{{write_account.median_pf}}</td>
                                <td>{{write_account.max_pf}}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="read-locked-accounts" class="card">
                <div class="card-header align-items-center"><h3 class="card-header-title">Heavily Read-Locked Accounts</h3></div>

                <div class="table-responsive mb-0">
                    <table class="table table-sm table-nowrap card-table">
                        <thead>
                        <tr>
                            <th class="text-muted">Account</th>
                            <th class="text-muted">CU requested</th>
                            <th class="text-muted">CU consumed</th>
                            <th class="text-muted">Min prio fees</th>
                            <th class="text-muted">Median prio fees</th>
                            <th class="text-muted">Max prio fees</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for write_account in block.heavily_readlocked_accounts_parsed %}
                            <tr>
                                <td>
                                    <a hx-boost="false" href="https://explorer.solana.com/account/{{ write_account.key }}?cluster={{config.cluster}}">
                                        <div class="d-none d-lg-flex align-items-center "><span class="font-size-tiny me-2"><span
                                                class=""></span></span><span
                                                class="font-monospace"><span class="">{{write_account.key}}</span></span>
                                        </div>
                                    </a></td>
                                <td>{{write_account.cu_requested}}</td>
                                <td>{{write_account.cu_consumed}}</td>
                                <td>{{write_account.min_pf}}</td>
                                <td>{{write_account.median_pf}}</td>
                                <td>{{write_account.max_pf}}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>


</body>
</html>
